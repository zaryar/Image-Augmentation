<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Document</title>
</head>

<body>
    <header>
        <h1 style="color: #454857;">
            Image Augmentation
        </h1>
    </header>
    <form method="POST" action="/upload" enctype="multipart/form-data">


        <div class="boxen">
            <input type="file" id="image_input" name="image">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    <input type="radio" id="1" name="filter" value="1" checked>
                    <label for="filter1">filter 1</label><br>
                    <input type="radio" id="2" name="filter" value="2">
                    <label for="filter2">filter 2</label><br>
                    <input type="radio" id="3" name="filter" value="3">
                    <label for="filter3">filter 3</label><br>
                    <input type="radio" id="4" name="filter" value="4">
                    <label for="filter4">filter 4</label><br>
                    <input type="radio" id="5" name="filter" value="5">
                    <label for="filter5">filter 5</label><br>
                    <input type="radio" id="6" name="filter" value="6">
                    <label for="filter6">filter 6</label><br>
                    <input type="radio" id="7" name="filter" value="7">
                    <label for="filter7">filter 7</label><br>
                    <input type="radio" id="8" name="filter" value="8">
                    <label for="filter8">filter 8</label><br>
                    <input type="radio" id="9" name="filter" value="9">
                    <label for="filter9">filter 9</label><br>
                    <input type="radio" id="10" name="filter" value="10">
                    <label for="filter10">filter 10</label><br>
                    <input type="radio" id="11" name="filter" value="11">
                    <label for="filter11">filter 11</label><br>
                    <input type="radio" id="12" name="filter" value="12">
                    <label for="filter12">filter 12</label><br>
                    <input type="radio" id="13" name="filter" value="13">
                    <label for="filter13">filter 13</label><br>
                </div>
            </div>
            
            <input type="submit" name = "submit" value="image">
        </div>
        <div class="boxen">
            <input type="file" id="image_input" name="image">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    <input type="radio" id="1" name="filter" value="1">
                    <label for="filter1">filter 1</label><br>
                    <input type="radio" id="2" name="filter" value="2">
                    <label for="filter2">filter 2</label><br>
                    <input type="radio" id="3" name="filter" value="3">
                    <label for="filter3">filter 3</label><br>
                    <input type="radio" id="4" name="filter" value="4">
                    <label for="filter4">filter 4</label><br>
                    <input type="radio" id="5" name="filter" value="5">
                    <label for="filter5">filter 5</label><br>
                    <input type="radio" id="6" name="filter" value="6">
                    <label for="filter6">filter 6</label><br>
                    <input type="radio" id="7" name="filter" value="7">
                    <label for="filter7">filter 7</label><br>
                    <input type="radio" id="8" name="filter" value="8">
                    <label for="filter8">filter 8</label><br>
                    <input type="radio" id="9" name="filter" value="9">
                    <label for="filter9">filter 9</label><br>
                    <input type="radio" id="10" name="filter" value="10">
                    <label for="filter10">filter 10</label><br>
                    <input type="radio" id="11" name="filter" value="11">
                    <label for="filter11">filter 11</label><br>
                    <input type="radio" id="12" name="filter" value="12">
                    <label for="filter12">filter 12</label><br>
                    <input type="radio" id="13" name="filter" value="13">
                    <label for="filter13">filter 13</label><br>
                </div>
            </div>
            
            <input type="submit" name = "submit" value="video">
        </div>
        <div>
            <div id= "display_image"></div>
            <img src="/images/output/image.png" width="300" alt="">
        </div>
        


    </form>
    
    <!-- new button stop and start the video recording -->
    
    <button onclick="record()"> start video stream</button>
    <button onclick="stop_record()"> stop video stream</button>


    <div id= "display_image"></div>
    <img src="/images/output/image.png" width="300" alt="">

    <script src="/javaScripts/script.js"></script>

    <!-- code for the webcam :) -->
    <video id="myVidPlayer" controls muted autoplay></video>

    
    <div class="mycanvas">
        <canvas></canvas>
    </div>
    
    <script src="/javaScripts/webcam.js"></script>

    <!-- code for socket.io and live images -->
    <script src="/socket.io/socket.io.js"></script>

    <div id="streamImages" class="streamImages"></div>
    
    <script>
        var socket = io();
		
		socket.on('update', function(data) {
			console.log('update',data);
            document.getElementById("streamImages").style.backgroundImage = 'url(data:image/jpeg;base64,' + data.image + ')';	
		});
    </script>

</body>

</html>