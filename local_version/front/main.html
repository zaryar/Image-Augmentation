<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Document</title>
</head>

<body>
    <header>
        <h1 style="color: #454857;">
            Image Augmentation
        </h1>
    </header>
    <form method="POST" action="/upload" enctype="multipart/form-data">


        <div class="boxen">
            <label for="image_input" class="custom-upload-button">Upload Image</label>
            <input type="file" id="image_input" name="image" style="display: none;">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    
                    <input type="radio" id="1" name="filter" value="1" checked>
                    <label for="filter1">filter_blurred</label><br>
                    <input type="radio" id="2" name="filter" value="2">
                    <label for="filter2">filter_flip</label><br>
                    <input type="radio" id="3" name="filter" value="3">
                    <label for="filter3">filter_pixel</label><br>
                    <input type="radio" id="4" name="filter" value="4">
                    <label for="filter4">filter_gray</label><br>
                    <input type="radio" id="5" name="filter" value="5">
                    <label for="filter5">filter_bw</label><br>
                    <input type="radio" id="6" name="filter" value="6">
                    <label for="filter6">filter_invert</label><br>
                    <input type="radio" id="7" name="filter" value="7">
                    <label for="filter7">filter_sketch</label><br>
                    <input type="radio" id="8" name="filter" value="8">
                    <label for="filter8">filter_sepia</label><br>
                    <input type="radio" id="9" name="filter" value="9">
                    <label for="filter9">filter_sharp</label><br>
                    <input type="radio" id="10" name="filter" value="10">
                    <label for="filter10">filter_edge</label><br>
                    <input type="radio" id="11" name="filter" value="11">
                    <label for="filter11">filter_border</label><br>
                    <input type="radio" id="12" name="filter" value="12">
                    <label for="filter12">filter_reflect</label><br>
                    <input type="radio" id="13" name="filter" value="13">
                    <label for="filter13">filter_wBorder</label><br>
                    <label><strong>Style transfer</strong></label><br>
                    <input type="radio" id="14" name="filter" value="14">
                    <label for="filter14">ST filter</label><br>
                    <label><strong>Face recognition</strong></label><br>
                    <input type="radio" id="15" name="filter" value="15">
                    <label for="filter15">FR filter</label><br>
                </div>
            </div>

            <input type="submit" name = "submit" value="image">
        </div>
        <div class="boxen">
            <label for="image_input" class="custom-upload-button">Upload Video</label>
            <input type="file" id="video_input" name="video" style="display: none;">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    <label><strong>     normal filter</strong></label><br>
                    <input type="radio" id="1" name="filter" value="1" checked>
                    <label for="filter1">filter_blurred</label><br>
                    <input type="radio" id="2" name="filter" value="2">
                    <label for="filter2">filter_flip</label><br>
                    <input type="radio" id="3" name="filter" value="3">
                    <label for="filter3">filter_pixel</label><br>
                    <input type="radio" id="4" name="filter" value="4">
                    <label for="filter4">filter_gray</label><br>
                    <input type="radio" id="5" name="filter" value="5">
                    <label for="filter5">filter_bw</label><br>
                    <input type="radio" id="6" name="filter" value="6">
                    <label for="filter6">filter_invert</label><br>
                    <input type="radio" id="7" name="filter" value="7">
                    <label for="filter7">filter_sketch</label><br>
                    <input type="radio" id="8" name="filter" value="8">
                    <label for="filter8">filter_sepia</label><br>
                    <input type="radio" id="9" name="filter" value="9">
                    <label for="filter9">filter_sharp</label><br>
                    <input type="radio" id="10" name="filter" value="10">
                    <label for="filter10">filter_edge</label><br>
                    <input type="radio" id="11" name="filter" value="11">
                    <label for="filter11">filter_border</label><br>
                    <input type="radio" id="12" name="filter" value="12">
                    <label for="filter12">filter_reflect</label><br>
                    <input type="radio" id="13" name="filter" value="13">
                    <label for="filter13">filter_wBorder</label><br>
                    <label><strong>Style transfer</strong></label><br>
                    <input type="radio" id="14" name="filter" value="14">
                    <label for="filter14">ST filter</label><br>
                    <label><strong>Face recognition</strong></label><br>
                    <input type="radio" id="15" name="filter" value="15">
                    <label for="filter15">FR filter</label><br>
                </div>
            </div>
            
            <input type="submit" name = "submit" value="video">
        </div>

    </form>
    
    <!-- button to download the output video, the Video has to have the Name video.mp4 -->

    <a class="download" href="/images/output/video.mp4" download="FilterVideo.mp4">Download the video</a>

    <!-- new button stop and start the video recording -->

    
    <button onclick="record()"> start video stream</button>
    <button onclick="stop_record()"> stop video stream</button>


    <div id= "display_image"></div>
    <img src="/images/output/image.png" width="300" alt="">

    <script src="/javaScripts/script.js"></script>

    <!-- code for the webcam :) -->
    <video id="myVidPlayer" controls muted autoplay></video>

    
    <div class="mycanvas">
        <canvas></canvas>
    </div>
    
    <script src="/javaScripts/webcam.js"></script>

    <!-- code for socket.io and live images -->
    <script src="/socket.io/socket.io.js"></script>

    <div id="streamImages" class="streamImages"></div>
    
    <script>
        var socket = io();
		
		socket.on('update', function(data) {
			console.log('update',data);
            document.getElementById("streamImages").style.backgroundImage = 'url(data:image/jpeg;base64,' + data.image + ')';	
		});
    </script>

</body>

</html>