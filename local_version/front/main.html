<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <title>Document</title>
</head>

<body>
    <header>
        <h1>
            Image Augmentation
        </h1>

    </header>
    <form method="POST" action="/upload" enctype="multipart/form-data">
        <div class="boxen">
            <input type="file" id="image_input" name="image">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    <input type="radio" id="filter1" name="filter" value="filter1" checked>
                    <label for="filter1">filter 1</label><br>
                    <input type="radio" id="filter2" name="filter" value="filter2">
                    <label for="filter1">filter 2</label><br>
                    <input type="radio" id="filter3" name="filter" value="filter3">
                    <label for="filter1">filter 3</label><br>
                </div>
            </div>
            
            <input type="submit" name = "submit" value="image">
        </div>
        <div class="boxen">
            <input type="file" id="image_input" name="image">
            <div class="dropdown">
                <p class="dropbtn">∇ Choose filter</p>
                <div class="dropdown-content">
                    <input type="radio" id="filter1" name="filter" value="filter1">
                    <label for="filter1">filter 1</label><br>
                    <input type="radio" id="filter2" name="filter" value="filter2">
                    <label for="filter1">filter 2</label><br>
                    <input type="radio" id="filter3" name="filter" value="filter3">
                    <label for="filter1">filter 3</label><br>
                </div>
            </div>
            
            <input type="submit" name = "submit" value="video">
        </div>
        <div>
            <div id= "display_image"></div>
            <img src="/images/output/image.png" width="300" alt="">
        </div>
        
    </form>
    
    <script src="/javaScripts/script.js"></script>

        
    <!-- new button stop and start the video recording -->
    
    <button onclick="record()"> start video stream</button>
    <button onclick="stop_record()"> stop video stream</button>

    <!-- code for the webcam :) -->
    <video id="myVidPlayer" controls muted autoplay></video>

    
    <div class="mycanvas">
        <canvas></canvas>
    </div>
    
    <script src="/javaScripts/webcam.js"></script>

    <!-- code for socket.io and live images -->
    <script src="/socket.io/socket.io.js"></script>

    <div id="streamImages" class="streamImages"></div>
    
    <script>
        var socket = io();
		
		socket.on('update', function(data) {
			console.log('update',data);
            document.getElementById("streamImages").style.backgroundImage = 'url(data:image/jpeg;base64,' + data.image + ')';	
		});
    </script>

</body>

</html>